@model MvcSoftConsult.Models.EmployeeProfileDropdownViewModel

<!DOCTYPE html>
<html>
<head runat="server">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Employee Profile</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
</head>
<body>
    <div class="container-fluid mt-4">
        <h3 class="mb-4 p-2 text-white" style="background: linear-gradient(to right, #003366, #66ccff);">Employee Profile</h3>

        <form method="post" asp-action="Search" asp-controller="EmployeeProfile">
            <div class="row mb-3">
                <div class="col-md-3">
                    <label for="cmbEmp_LocID">Location</label>
                    <select name="Emp_LocID" class="form-select" id="cmbEmp_LocID">
                        @foreach (var item in Model.Locations)
                        {
                            <option value="@item.Value" @(item.Value == Model.Emp_LocID.ToString() ? "selected" : "")>@item.Text</option>
                        }
                    </select>
                </div>
                <div class="col-md-3">
                    <label for="cmbEmp_DptID">Department</label>
                    <select name="Emp_DptID" class="form-select" id="cmbEmp_DptID">
                        @foreach (var item in Model.Departments)
                        {
                            <option value="@item.Value" @(item.Value == Model.Emp_DptID.ToString() ? "selected" : "")>@item.Text</option>
                        }
                    </select>
                </div>
                <div class="col-md-3">
                    <label for="cmbEmp_ReligionID">Religion</label>
                    <select name="Emp_ReligionID" class="form-select" id="cmbEmp_ReligionID">
                        @foreach (var item in Model.Religions)
                        {
                            <option value="@item.Value" @(item.Value == Model.Emp_ReligionID.ToString() ? "selected" : "")>@item.Text</option>
                        }
                    </select>
                </div>
                <div class="col-md-3">
                    <label for="cmbEmp_GradeID">Grade</label>
                    <select name="Emp_GradeID" class="form-select" id="cmbEmp_GradeID">
                        @foreach (var item in Model.Grades)
                        {
                            <option value="@item.Value" @(item.Value == Model.Emp_GradeID.ToString() ? "selected" : "")>@item.Text</option>
                        }
                    </select>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-3">
                    <label for="cmbEmp_JobStatusID">Job Status</label>
                    <select name="Emp_JobStatusID" class="form-select" id="cmbEmp_JobStatusID">
                        @foreach (var item in Model.JobStatuses)
                        {
                            <option value="@item.Value" @(item.Value == Model.Emp_JobStatusID.ToString() ? "selected" : "")>@item.Text</option>
                        }
                    </select>
                </div>
                <div class="col-md-3">
                    <label for="cmbEmp_SecID">Section</label>
                    <select name="Emp_SecID" class="form-select" id="cmbEmp_SecID">
                        @foreach (var item in Model.Sections)
                        {
                            <option value="@item.Value" @(item.Value == Model.Emp_SecID.ToString() ? "selected" : "")>@item.Text</option>
                        }
                    </select>
                </div>
                <div class="col-md-3">
                    <label for="cmbEmp_GenderID">Gender</label>
                    <select name="Emp_GenderID" class="form-select" id="cmbEmp_GenderID">
                        @foreach (var item in Model.Genders)
                        {
                            <option value="@item.Value" @(item.Value == Model.Emp_GenderID.ToString() ? "selected" : "")>@item.Text</option>
                        }
                    </select>
                </div>
                <div class="col-md-3 d-flex align-items-end">
                    <button type="submit" class="btn btn-primary w-100">Search</button>
                </div>
            </div>

            <div class="row mb-3">
                <div class="col-md-6">
                    <label>Page Info</label>
                </div>
                <div class="col-md-6 text-end">
                    <a href="@Url.Action("FirstPage", "EmployeeProfile")" class="btn btn-outline-primary btn-sm">First</a>
                    <a href="@Url.Action("PreviousPage", "EmployeeProfile")" class="btn btn-outline-primary btn-sm">Previous</a>
                    <a href="@Url.Action("NextPage", "EmployeeProfile")" class="btn btn-outline-primary btn-sm">Next</a>
                    <a href="@Url.Action("LastPage", "EmployeeProfile")" class="btn btn-outline-primary btn-sm">Last</a>
                </div>
            </div>

            <div class="table-responsive">
                <table class="table table-bordered table-striped">
                    <thead class="table-primary">
                        <tr>
                            <th>Actions</th>
                            <th>Emp ID</th>
                            <th>Employee Name</th>
                            <th>Father/Hus. Name</th>
                            <th>Classification</th>
                            <th>Job Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var emp in Model.EmployeeList)
                        {
                            <tr>
                                <td class="text-center">
                                    <a href="@Url.Action("Edit", "EmployeeProfile", new { id = emp.E_SNO })" class="btn btn-sm btn-warning">Edit</a>
                                    <a href="@Url.Action("Delete", "EmployeeProfile", new { id = emp.E_SNO })" class="btn btn-sm btn-danger" onclick="return confirm('Are you sure to delete?');">Delete</a>
                                </td>
                                <td class="text-center">@emp.E_SID</td>
                                <td class="text-center">@emp.E_Name</td>
                                <td class="text-center">@emp.E_FName</td>
                                <td class="text-center">@emp.LocationasString</td>
                                <td class="text-center">@emp.JobStatusasString</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </form>
    </div>
</body>
</html>
